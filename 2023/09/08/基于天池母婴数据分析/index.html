<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>基于天池母婴数据分析 | Otter's Blog</title><meta name="author" content="Otter"><meta name="copyright" content="Otter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="数据说明本次分析数据来源于淘宝母婴购物行为数据集，并在原始数据的基础上进行了字段调整，包括如下两张表：  用户基本信息表： tianchi_mum_baby    字段 字段说明 说明    user_id 用户标识 抽样&amp;字段脱敏   birthday 婴儿出生日期 由user_id填写，有可能不真实,格式:YYYYMMDD   gender 婴儿性别（0 男孩，1 女孩，2性别不明）">
<meta property="og:type" content="article">
<meta property="og:title" content="基于天池母婴数据分析">
<meta property="og:url" content="http://example.com/2023/09/08/%E5%9F%BA%E4%BA%8E%E5%A4%A9%E6%B1%A0%E6%AF%8D%E5%A9%B4%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="Otter&#39;s Blog">
<meta property="og:description" content="数据说明本次分析数据来源于淘宝母婴购物行为数据集，并在原始数据的基础上进行了字段调整，包括如下两张表：  用户基本信息表： tianchi_mum_baby    字段 字段说明 说明    user_id 用户标识 抽样&amp;字段脱敏   birthday 婴儿出生日期 由user_id填写，有可能不真实,格式:YYYYMMDD   gender 婴儿性别（0 男孩，1 女孩，2性别不明）">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2023/09/08/pP6mNP1.jpg">
<meta property="article:published_time" content="2023-09-08T05:52:32.000Z">
<meta property="article:modified_time" content="2023-09-14T13:51:22.899Z">
<meta property="article:author" content="Otter">
<meta property="article:tag" content="python">
<meta property="article:tag" content="数据分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2023/09/08/pP6mNP1.jpg"><link rel="shortcut icon" href="/img/Otter.png"><link rel="canonical" href="http://example.com/2023/09/08/%E5%9F%BA%E4%BA%8E%E5%A4%A9%E6%B1%A0%E6%AF%8D%E5%A9%B4%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":false,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Otter","link":"链接: ","source":"来源: Otter's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '基于天池母婴数据分析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-14 21:51:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/time.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s1.ax1x.com/2023/09/08/pP6mNP1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Blog</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('/img/topBJ.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Otter's Blog"><span class="site-name">Otter's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Blog</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">基于天池母婴数据分析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-08T05:52:32.000Z" title="发表于 2023-09-08 13:52:32">2023-09-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-14T13:51:22.899Z" title="更新于 2023-09-14 21:51:22">2023-09-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="基于天池母婴数据分析"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="数据说明"><a href="#数据说明" class="headerlink" title="数据说明"></a>数据说明</h1><p>本次分析数据来源于淘宝母婴购物行为数据集，并在原始数据的基础上进行了字段调整，包括如下两张表：</p>
<ol>
<li><p>用户基本信息表： tianchi_mum_baby</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>字段说明</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>user_id</td>
<td>用户标识</td>
<td>抽样&amp;字段脱敏</td>
</tr>
<tr>
<td>birthday</td>
<td>婴儿出生日期</td>
<td>由user_id填写，有可能不真实,格式:YYYYMMDD</td>
</tr>
<tr>
<td>gender</td>
<td>婴儿性别（0 男孩，1 女孩，2性别不明）</td>
<td>由user_id填写，有可能不真实</td>
</tr>
</tbody></table>
</li>
<li><p>商品交易信息表： tianchi_mum_baby_trade_history</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>字段说明</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>user_id</td>
<td>用户标识</td>
<td></td>
</tr>
<tr>
<td>auction_id</td>
<td>交易ID</td>
<td></td>
</tr>
<tr>
<td>category_1</td>
<td>商品一级类目ID</td>
<td></td>
</tr>
<tr>
<td>category_1</td>
<td>商品二级类目ID</td>
<td></td>
</tr>
<tr>
<td>buy_amount</td>
<td>购买数量</td>
<td></td>
</tr>
<tr>
<td>auction_id</td>
<td>订单发生日期</td>
<td>格式：YYYYMMDD</td>
</tr>
</tbody></table>
</li>
</ol>
<h1 id="数据分析情况"><a href="#数据分析情况" class="headerlink" title="数据分析情况"></a>数据分析情况</h1><h2 id="一、-所处行业"><a href="#一、-所处行业" class="headerlink" title="一、 所处行业"></a>一、 所处行业</h2><ol>
<li>零售行业</li>
<li>母婴品类</li>
</ol>
<h2 id="二、-数据来源"><a href="#二、-数据来源" class="headerlink" title="二、 数据来源"></a>二、 数据来源</h2><ol>
<li>阿里巴巴天池-淘宝母婴购物数据可视化分析</li>
<li><a target="_blank" rel="noopener" href="https://tianchi.aliyun.com/dataset/151165">链接</a></li>
</ol>
<h2 id="三、-字段解析"><a href="#三、-字段解析" class="headerlink" title="三、 字段解析"></a>三、 字段解析</h2><ol>
<li>含有用户ID可分析用户下单情况</li>
<li>含有日期，可分析按日期进行销售情况分析</li>
<li>含有类别，同一时间不同类别销售情况</li>
<li>结合销售日期和婴儿性别可得到年龄，分析年龄销售情况占比</li>
<li>可对婴儿性别占比进行分析，得到性别对销售量的影响</li>
<li>次年留存情况，或者90日留存情况</li>
<li>指定后续优化目标</li>
</ol>
<h2 id="四、-分析过程"><a href="#四、-分析过程" class="headerlink" title="四、 分析过程"></a>四、 分析过程</h2><h3 id="1-数据获取"><a href="#1-数据获取" class="headerlink" title="1. 数据获取"></a>1. 数据获取</h3>  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 读取商品交易数据</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 图表初始化</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">trade_history = pd.read_csv(<span class="string">&#x27;./DataFrom/tianchi_mum_baby_trade_history.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># 添加年、季、月三个维度，并将day字段转换为datetime格式</span></span><br><span class="line">trade_history[<span class="string">&#x27;day&#x27;</span>] = pd.to_datetime(trade_history.day.astype(<span class="string">&#x27;str&#x27;</span>))</span><br><span class="line">trade_history[<span class="string">&#x27;year&#x27;</span>] = pd.to_datetime(trade_history[<span class="string">&#x27;day&#x27;</span>]).dt.year</span><br><span class="line">trade_history[<span class="string">&#x27;quarter&#x27;</span>] = pd.to_datetime(trade_history[<span class="string">&#x27;day&#x27;</span>]).dt.quarter</span><br><span class="line">trade_history[<span class="string">&#x27;month&#x27;</span>] = pd.to_datetime(trade_history[<span class="string">&#x27;day&#x27;</span>]).dt.month</span><br><span class="line">trade_history[<span class="string">&#x27;category_1&#x27;</span>] = trade_history[<span class="string">&#x27;category_1&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">trade_history</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_id</th>
      <th>auction_id</th>
      <th>category_2</th>
      <th>category_1</th>
      <th>buy_mount</th>
      <th>day</th>
      <th>year</th>
      <th>quarter</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>786295544</td>
      <td>41098319944</td>
      <td>50014866</td>
      <td>50022520</td>
      <td>2</td>
      <td>2014-09-19</td>
      <td>2014</td>
      <td>3</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>532110457</td>
      <td>17916191097</td>
      <td>50011993</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-11</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>249013725</td>
      <td>21896936223</td>
      <td>50012461</td>
      <td>50014815</td>
      <td>1</td>
      <td>2013-10-11</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>3</th>
      <td>917056007</td>
      <td>12515996043</td>
      <td>50018831</td>
      <td>50014815</td>
      <td>2</td>
      <td>2014-10-23</td>
      <td>2014</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>4</th>
      <td>444069173</td>
      <td>20487688075</td>
      <td>50013636</td>
      <td>50008168</td>
      <td>1</td>
      <td>2014-11-03</td>
      <td>2014</td>
      <td>4</td>
      <td>11</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>29966</th>
      <td>57747284</td>
      <td>35169635909</td>
      <td>50010549</td>
      <td>50008168</td>
      <td>1</td>
      <td>2014-01-09</td>
      <td>2014</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>29967</th>
      <td>287541325</td>
      <td>19778523000</td>
      <td>50007011</td>
      <td>50008168</td>
      <td>2</td>
      <td>2014-01-09</td>
      <td>2014</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>29968</th>
      <td>82915321</td>
      <td>12766532512</td>
      <td>50011993</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>29969</th>
      <td>78259523</td>
      <td>18309305134</td>
      <td>50013711</td>
      <td>50008168</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>29970</th>
      <td>758305789</td>
      <td>20177445814</td>
      <td>50018860</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
<p>29971 rows × 9 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 读取用户基本信息表</span></span><br><span class="line"><span class="comment"># 根据birthday字段中含有1984年的数据，结合此表填写可能存在不真实信息，故去除2010年以前的数据</span></span><br><span class="line"><span class="comment"># 性别中含有未知性别，影响分析，故去除</span></span><br><span class="line"></span><br><span class="line">tianchi_mum_baby = pd.read_csv(<span class="string">&#x27;./DataFrom/tianchi_mum_baby.csv&#x27;</span>)</span><br><span class="line">tianchi_mum_baby[<span class="string">&#x27;birthday&#x27;</span>] = pd.to_datetime(tianchi_mum_baby.birthday.astype(<span class="string">&#x27;str&#x27;</span>))</span><br><span class="line">tianchi_mum_baby = tianchi_mum_baby[(tianchi_mum_baby[<span class="string">&#x27;birthday&#x27;</span>]&gt;= <span class="string">&#x27;2010-01-01 00:00:00&#x27;</span>)&amp;(tianchi_mum_baby[<span class="string">&#x27;gender&#x27;</span>] != <span class="number">2</span>)]</span><br><span class="line">tianchi_mum_baby</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_id</th>
      <th>birthday</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2757</td>
      <td>2013-03-11</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>415971</td>
      <td>2012-11-11</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1372572</td>
      <td>2012-01-30</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10339332</td>
      <td>2011-09-10</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10642245</td>
      <td>2013-02-13</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>948</th>
      <td>2020957900</td>
      <td>2014-04-30</td>
      <td>0</td>
    </tr>
    <tr>
      <th>949</th>
      <td>2080304899</td>
      <td>2010-07-13</td>
      <td>0</td>
    </tr>
    <tr>
      <th>950</th>
      <td>2114469016</td>
      <td>2014-04-16</td>
      <td>0</td>
    </tr>
    <tr>
      <th>951</th>
      <td>2186831536</td>
      <td>2014-05-19</td>
      <td>1</td>
    </tr>
    <tr>
      <th>952</th>
      <td>2254611367</td>
      <td>2011-10-31</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>798 rows × 3 columns</p>
</div>



<h3 id="2-数据清洗"><a href="#2-数据清洗" class="headerlink" title="2. 数据清洗"></a>2. 数据清洗</h3>  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 去除空行</span></span><br><span class="line">trade_history.dropna(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看日期数据情况</span></span><br><span class="line"><span class="comment"># 根据情况得知含有单笔10000数量的销售情况，此数据在该品类不常见，属于异常数据，以1&lt;=购买量&lt;=180作为条件筛选出合理数据</span></span><br><span class="line">trade_history = trade_history[(trade_history[<span class="string">&#x27;buy_mount&#x27;</span>] &gt;= <span class="number">1</span>)&amp;(trade_history[<span class="string">&#x27;buy_mount&#x27;</span>] &lt;= <span class="number">65</span>*<span class="number">3</span>)]</span><br><span class="line">trade_history</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user_id</th>
      <th>auction_id</th>
      <th>category_2</th>
      <th>category_1</th>
      <th>buy_mount</th>
      <th>day</th>
      <th>year</th>
      <th>quarter</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>786295544</td>
      <td>41098319944</td>
      <td>50014866</td>
      <td>50022520</td>
      <td>2</td>
      <td>2014-09-19</td>
      <td>2014</td>
      <td>3</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>532110457</td>
      <td>17916191097</td>
      <td>50011993</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-11</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>249013725</td>
      <td>21896936223</td>
      <td>50012461</td>
      <td>50014815</td>
      <td>1</td>
      <td>2013-10-11</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>3</th>
      <td>917056007</td>
      <td>12515996043</td>
      <td>50018831</td>
      <td>50014815</td>
      <td>2</td>
      <td>2014-10-23</td>
      <td>2014</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>4</th>
      <td>444069173</td>
      <td>20487688075</td>
      <td>50013636</td>
      <td>50008168</td>
      <td>1</td>
      <td>2014-11-03</td>
      <td>2014</td>
      <td>4</td>
      <td>11</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>29966</th>
      <td>57747284</td>
      <td>35169635909</td>
      <td>50010549</td>
      <td>50008168</td>
      <td>1</td>
      <td>2014-01-09</td>
      <td>2014</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>29967</th>
      <td>287541325</td>
      <td>19778523000</td>
      <td>50007011</td>
      <td>50008168</td>
      <td>2</td>
      <td>2014-01-09</td>
      <td>2014</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>29968</th>
      <td>82915321</td>
      <td>12766532512</td>
      <td>50011993</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>29969</th>
      <td>78259523</td>
      <td>18309305134</td>
      <td>50013711</td>
      <td>50008168</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>29970</th>
      <td>758305789</td>
      <td>20177445814</td>
      <td>50018860</td>
      <td>28</td>
      <td>1</td>
      <td>2013-10-08</td>
      <td>2013</td>
      <td>4</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
<p>29942 rows × 9 columns</p>
</div>



<h3 id="3-各维度交易量比较"><a href="#3-各维度交易量比较" class="headerlink" title="3. 各维度交易量比较"></a>3. 各维度交易量比较</h3><h4 id="年交易量"><a href="#年交易量" class="headerlink" title="年交易量"></a>年交易量</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 按年分类汇总</span></span><br><span class="line">buy_by_year = trade_history[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(trade_history[<span class="string">&#x27;year&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line">fig,ax = plt.subplots(figsize = (<span class="number">6</span>,<span class="number">4</span>),dpi=<span class="number">150</span>)</span><br><span class="line">ax.bar(buy_by_year.index,buy_by_year.values) <span class="comment"># type: ignore</span></span><br><span class="line">plt.title(<span class="string">&#x27;年销售情况表&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;年份&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> buy_by_year.index:</span><br><span class="line">    y = buy_by_year[x]</span><br><span class="line">    plt.text(x,y,y) <span class="comment"># type: ignore</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="https://z1.ax1x.com/2023/09/14/pPWi75R.png" alt="pPWi75R.png"></p>
<p><font color = #FFA500 fontsize = 14>店铺销量呈现逐年递增趋势，符合发展规律</font></p>
<h4 id="各季度销售情况"><a href="#各季度销售情况" class="headerlink" title="各季度销售情况"></a>各季度销售情况</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取数据</span></span><br><span class="line">buy_by_quarter = trade_history[<span class="string">&#x27;buy_mount&#x27;</span>].groupby([trade_history[<span class="string">&#x27;year&#x27;</span>],trade_history[<span class="string">&#x27;quarter&#x27;</span>]]).<span class="built_in">sum</span>().reset_index()</span><br><span class="line">buy_by_quarter[<span class="string">&#x27;X&#x27;</span>] = <span class="string">&#x27;Q&#x27;</span> + buy_by_quarter[<span class="string">&#x27;quarter&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>) + <span class="string">&#x27;\n-\n&#x27;</span> + buy_by_quarter[<span class="string">&#x27;year&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">fig,ax = plt.subplots(figsize=(<span class="number">15</span>,<span class="number">4</span>),dpi=<span class="number">150</span>)</span><br><span class="line">ax.bar(x=buy_by_quarter[<span class="string">&#x27;X&#x27;</span>],height=buy_by_quarter[<span class="string">&#x27;buy_mount&#x27;</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="https://s1.ax1x.com/2023/09/08/pP6p4Dx.png" alt="pP6p4Dx.png"></p>
<p><font color = #FFA500 fontsize = 14>14年第三季度销售额有下滑现象，可结合实际情况分析其下滑原因</font></p>
<h4 id="月销售情况"><a href="#月销售情况" class="headerlink" title="月销售情况"></a>月销售情况</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取数据</span></span><br><span class="line">buy_by_month = trade_history[<span class="string">&#x27;buy_mount&#x27;</span>].groupby([trade_history[<span class="string">&#x27;year&#x27;</span>],trade_history[<span class="string">&#x27;month&#x27;</span>]]).<span class="built_in">sum</span>().reset_index()</span><br><span class="line">buy_by_month[<span class="string">&#x27;X&#x27;</span>] = buy_by_month[<span class="string">&#x27;month&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>) + <span class="string">&#x27;月&#x27;</span> + <span class="string">&#x27;\n-\n&#x27;</span> + buy_by_month[<span class="string">&#x27;year&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">fig,ax = plt.subplots(figsize=(<span class="number">15</span>,<span class="number">4</span>),dpi=<span class="number">150</span>)</span><br><span class="line">ax.bar(x=buy_by_month[<span class="string">&#x27;X&#x27;</span>],height=buy_by_month[<span class="string">&#x27;buy_mount&#x27;</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="https://s1.ax1x.com/2023/09/08/pP6p5b6.png" alt="pP6p5b6.png"></p>
<p><font color = #FFA500 fontsize = 14>5-6月，11-12月大型电商活动对店铺销量贡献较高，可适当增加活动期间的优惠力度，提高销量。</font></p>
<p><font color = #FFA500 fontsize = 14>7-10月增加促销活动，适当增加推广预算，增加曝光量，以增加销售量</font></p>
<h3 id="购买日期行为分析"><a href="#购买日期行为分析" class="headerlink" title="购买日期行为分析"></a>购买日期行为分析</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">buy_by_week = trade_history[(trade_history[<span class="string">&#x27;day&#x27;</span>] &gt;= <span class="string">&#x27;2013-01-01 00:00:00&#x27;</span>)&amp; (trade_history[<span class="string">&#x27;day&#x27;</span>]&lt;<span class="string">&#x27;2015-01-01 00:00:00&#x27;</span>)][[<span class="string">&#x27;buy_mount&#x27;</span>,<span class="string">&#x27;week&#x27;</span>]]</span><br><span class="line">buycount_by_week = buy_by_week[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(buy_by_week[<span class="string">&#x27;week&#x27;</span>]).count().reset_index()</span><br><span class="line">fig,ax = plt.subplots()</span><br><span class="line">x = <span class="string">&#x27;星期&#x27;</span> + (buycount_by_week[<span class="string">&#x27;week&#x27;</span>]+<span class="number">1</span>).astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">ax.plot(x,buycount_by_week[<span class="string">&#x27;buy_mount&#x27;</span>],<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://z1.ax1x.com/2023/09/14/pPWiU8P.png" alt="pPWiU8P.png"></p>
<p><font color = #FFA500 fontsize = 14>用户更倾向于在周1-5工作日期间进行消费</font></p>
<h3 id="消费次数及回购率分析"><a href="#消费次数及回购率分析" class="headerlink" title="消费次数及回购率分析"></a>消费次数及回购率分析</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 用户一年内用户下单情况 距离当前较近的完整一年为2014年 故分析2014年情况更具有说明性</span></span><br><span class="line"><span class="comment"># 获取2014年数据</span></span><br><span class="line">count_by_user = trade_history[(trade_history[<span class="string">&#x27;day&#x27;</span>] &gt;= <span class="string">&#x27;2014-01-01 00:00:00&#x27;</span>)&amp; (trade_history[<span class="string">&#x27;day&#x27;</span>]&lt;<span class="string">&#x27;2015-01-01 00:00:00&#x27;</span>)]</span><br><span class="line">bar_data_user = count_by_user[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(count_by_user[<span class="string">&#x27;user_id&#x27;</span>]).count()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;大部分用户一年内购买次数：&#x27;</span>,bar_data_user.sort_values(ascending=<span class="literal">False</span>).mode().values[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<pre><code>大部分用户一年内购买次数： 1
</code></pre>
<p><font color = #FFA500 fontsize = 14>结果表明大部分消费者一年内仅进行一次购物</font></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 2014年用户相比2013年留存情况</span></span><br><span class="line"><span class="comment"># 取出2013年数据</span></span><br><span class="line">count_by_user2013 = trade_history[(trade_history[<span class="string">&#x27;day&#x27;</span>] &gt;= <span class="string">&#x27;2013-01-01 00:00:00&#x27;</span>)&amp; (trade_history[<span class="string">&#x27;day&#x27;</span>]&lt;<span class="string">&#x27;2014-01-01 00:00:00&#x27;</span>)][[<span class="string">&#x27;user_id&#x27;</span>,<span class="string">&#x27;day&#x27;</span>]]</span><br><span class="line">count_by_user2014 = count_by_user[[<span class="string">&#x27;user_id&#x27;</span>,<span class="string">&#x27;day&#x27;</span>]]</span><br><span class="line"><span class="comment"># 合并数据并做筛选</span></span><br><span class="line">count_data = count_by_user2013.merge(count_by_user2014,how=<span class="string">&#x27;left&#x27;</span>,on=<span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line"><span class="comment"># 求总和</span></span><br><span class="line"></span><br><span class="line">count_data_total = count_data[(count_data[<span class="string">&#x27;day_x&#x27;</span>] != count_data[<span class="string">&#x27;day_y&#x27;</span>])].count()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;用户次年回购率：&#x27;</span>,count_data_total[<span class="string">&#x27;day_y&#x27;</span>]/count_data_total[<span class="string">&#x27;user_id&#x27;</span>]*<span class="number">100</span>,<span class="string">&#x27;%&#x27;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>用户次年回购率： 0.07184645386431283 %
</code></pre>
<p><font color = #FFA500 fontsize = 14>本店铺母婴类产品，用户次年购买率极低</font></p>
<p><strong>可能的原因</strong></p>
<ol>
<li>店铺商品与婴儿年龄的耦合度较高，导致用户对此的需求仅限于此年龄段</li>
<li>产品质量不理想，结合店铺销量的逐年上涨，可以排除此情况</li>
</ol>
<p><strong>结论：</strong> 店铺产品更适合婴儿某年龄段，可降低对回头客的关注，转而投入成本增加产品知名度和曝光度，增加新用户的获取</p>
<h3 id="商品类别的销量占比分析"><a href="#商品类别的销量占比分析" class="headerlink" title="商品类别的销量占比分析"></a>商品类别的销量占比分析</h3><h4 id="一级分类占比情况"><a href="#一级分类占比情况" class="headerlink" title="一级分类占比情况"></a>一级分类占比情况</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 各一级分类的交易量 以2014年为例</span></span><br><span class="line">class_by_2014 = trade_history[(trade_history[<span class="string">&#x27;day&#x27;</span>] &gt;= <span class="string">&#x27;2014-01-01 00:00:00&#x27;</span>)&amp; (trade_history[<span class="string">&#x27;day&#x27;</span>]&lt;<span class="string">&#x27;2015-01-01 00:00:00&#x27;</span>)]</span><br><span class="line">bar_data = class_by_2014[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(class_by_2014[<span class="string">&#x27;category_1&#x27;</span>]).count()</span><br><span class="line">bar_data.sort_values(ascending=<span class="literal">False</span>,inplace=<span class="literal">True</span>) <span class="comment"># 排序降序排序</span></span><br><span class="line"><span class="comment"># 一级分类销量排行榜</span></span><br><span class="line">fig,ax = plt.subplots(figsize=(<span class="number">6</span>,<span class="number">6</span>))</span><br><span class="line">plt.title(<span class="string">&#x27;2014年一级分类销量占比图&#x27;</span>)</span><br><span class="line">ax.pie(bar_data,labels=bar_data.index) <span class="comment"># type: ignore</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>



<p><img src="https://z1.ax1x.com/2023/09/14/pPWiNCt.png" alt="pPWiNCt.png"></p>
<p>可以看出类别id为<font color=green><strong>‘28’,’50008168’,’50014815’</strong></font>三个商品类别占比较高，其中’50008168’占比最高，可见此类别更加受欢迎</p>
<h4 id="一级分类下次级分类数量情况"><a href="#一级分类下次级分类数量情况" class="headerlink" title="一级分类下次级分类数量情况"></a>一级分类下次级分类数量情况</h4><p><font color=red>待分析</font></p>
<h4 id="二级分类的销量占比情况"><a href="#二级分类的销量占比情况" class="headerlink" title="二级分类的销量占比情况"></a>二级分类的销量占比情况</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 各二级分类销量占比情况 以2014年为例</span></span><br><span class="line"><span class="comment"># 获取数据</span></span><br><span class="line">class2_by_2014 = class_by_2014[<span class="string">&#x27;buy_mount&#x27;</span>].groupby([class_by_2014[<span class="string">&#x27;category_1&#x27;</span>],class_by_2014[<span class="string">&#x27;category_2&#x27;</span>]]).count()</span><br><span class="line">class2_by_2014 = class2_by_2014.reset_index()</span><br><span class="line">class2_by_2014[<span class="string">&#x27;class-name&#x27;</span>] = class2_by_2014[<span class="string">&#x27;category_2&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>) + <span class="string">&#x27;\n----\n&#x27;</span> + class2_by_2014[<span class="string">&#x27;category_1&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">data1 = class2_by_2014.sort_values(<span class="string">&#x27;buy_mount&#x27;</span>,ascending=<span class="literal">False</span>)[:<span class="number">20</span>]</span><br><span class="line">data2 = class2_by_2014.sort_values(<span class="string">&#x27;buy_mount&#x27;</span>,ascending=<span class="literal">True</span>)[:<span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">fig,(ax1,ax2) = plt.subplots(<span class="number">2</span>,<span class="number">1</span>,figsize=(<span class="number">20</span>,<span class="number">8</span>))</span><br><span class="line">ax1.bar(data1[<span class="string">&#x27;class-name&#x27;</span>],data1[<span class="string">&#x27;buy_mount&#x27;</span>])</span><br><span class="line">ax2.bar(data2[<span class="string">&#x27;class-name&#x27;</span>],data2[<span class="string">&#x27;buy_mount&#x27;</span>])</span><br></pre></td></tr></table></figure>






<p><img src="https://s1.ax1x.com/2023/09/08/pP6pWvR.png" alt="pP6pWvR.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;销量占比最高为：&#x27;</span>, class2_by_2014[<span class="string">&#x27;buy_mount&#x27;</span>].mode().values[<span class="number">0</span>]) <span class="comment"># type: ignore</span></span><br><span class="line">class2_by_2014[<span class="string">&#x27;buy_mount&#x27;</span>].describe()<span class="comment"># type: ignore</span></span><br></pre></td></tr></table></figure>

<pre><code>销量占比最高为： 1

count    576.000000
mean      26.053819
std       72.962806
min        1.000000
25%        2.000000
50%        7.000000
75%       20.000000
max      946.000000
Name: buy_mount, dtype: float64
</code></pre>
<p><font color=#FFA500 fontsize=14><strong>情况分析</strong></font></p>
<ol>
<li>从二级分析，大部分产品销量仅为1，可针对销量靠后的商品进行相应的活动，以释放库存，减少仓库运营成本，且考虑后续是否继续售卖</li>
<li>平均销量为26，单最高销量足有946，两者差距过大，建议分析7-20的销量构成及用户画像，做针对性活动，提供这部分销售量</li>
<li>销量前三作为店铺爆款产品，给予更大的曝光量</li>
</ol>
<h3 id="年龄及性别分析"><a href="#年龄及性别分析" class="headerlink" title="年龄及性别分析"></a>年龄及性别分析</h3><h4 id="年龄分析"><a href="#年龄分析" class="headerlink" title="年龄分析"></a>年龄分析</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取数据，合并相关数据表 以2014年为例</span></span><br><span class="line"></span><br><span class="line">data_by_age = trade_history.merge(tianchi_mum_baby,on=<span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line">data_by_age = data_by_age[data_by_age[<span class="string">&#x27;gender&#x27;</span>] != <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">data_by_age[<span class="string">&#x27;age&#x27;</span>] = (data_by_age[<span class="string">&#x27;day&#x27;</span>] - data_by_age[<span class="string">&#x27;birthday&#x27;</span>])/np.timedelta64(<span class="number">1</span>,<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">data_by_age[<span class="string">&#x27;age&#x27;</span>] = data_by_age[<span class="string">&#x27;age&#x27;</span>].astype(<span class="string">&#x27;int&#x27;</span>)</span><br><span class="line">data_by_age[<span class="string">&#x27;age&#x27;</span>] = data_by_age[<span class="string">&#x27;age&#x27;</span>].apply(<span class="keyword">lambda</span> x:<span class="number">0</span> <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">else</span> x)</span><br><span class="line">bar_data = data_by_age[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(data_by_age[<span class="string">&#x27;age&#x27;</span>]).count()</span><br><span class="line">fig,ax = plt.subplots(figsize=(<span class="number">15</span>,<span class="number">4</span>),dpi = <span class="number">150</span>) </span><br><span class="line">ax.bar(bar_data.index,bar_data.values) <span class="comment"># type: ignore</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;年龄&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;婴儿年龄消费占比&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://s1.ax1x.com/2023/09/08/pP6pTUO.png" alt="pP6pTUO.png"></p>
<p><font color=#FFA500 fontsize = 14>由表可看出，店铺0-1岁宝宝（包含未出生）占比较高，可得出本店的商品定位人群在5岁前</font></p>
<ol>
<li>找到此年龄段的特征与共性</li>
<li>针对该年龄人群的父母进行针对性营销</li>
<li>找到适合此年龄段的新产品</li>
<li>从产品库中找到此类产品的外围产品或者周边产品，对购买此类产品的客户进行推销</li>
</ol>
<h4 id="性别对销量占比情况分析"><a href="#性别对销量占比情况分析" class="headerlink" title="性别对销量占比情况分析"></a>性别对销量占比情况分析</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pie_data = data_by_age[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(data_by_age[<span class="string">&#x27;gender&#x27;</span>]).count().reset_index()</span><br><span class="line">pie_data[<span class="string">&#x27;gender&#x27;</span>] = pie_data[<span class="string">&#x27;gender&#x27;</span>].apply(<span class="keyword">lambda</span> x:<span class="string">&#x27;男&#x27;</span> <span class="keyword">if</span> x==<span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;女&#x27;</span>)</span><br><span class="line">pie_data[<span class="string">&#x27;gender&#x27;</span>].values</span><br><span class="line">fig,ax = plt.subplots()</span><br><span class="line">ax.pie(pie_data[<span class="string">&#x27;buy_mount&#x27;</span>],labels=pie_data[<span class="string">&#x27;gender&#x27;</span>].values) <span class="comment"># type: ignore </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img src="https://s1.ax1x.com/2023/09/08/pP6p75D.png" alt="pP6p75D.png"></p>
<p><font color=#FFA500 fontsize = 14>由图可知宝宝性别占比持平，可进一步对不同婴儿消费产品的类别进行分析</font></p>
<h4 id="不同性别婴儿的消费产品类别分析"><a href="#不同性别婴儿的消费产品类别分析" class="headerlink" title="不同性别婴儿的消费产品类别分析"></a>不同性别婴儿的消费产品类别分析</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 不同性别婴儿的消费产品类别分析 </span></span><br><span class="line">buy_by_boy = data_by_age[(data_by_age[<span class="string">&#x27;gender&#x27;</span>] == <span class="number">1</span>)]</span><br><span class="line">buy_by_girl = data_by_age[(data_by_age[<span class="string">&#x27;gender&#x27;</span>] == <span class="number">0</span>)]</span><br><span class="line">buycount_by_boy = buy_by_boy[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(buy_by_boy[<span class="string">&#x27;category_1&#x27;</span>]).count().reset_index()</span><br><span class="line">buycount_by_girl = buy_by_girl[<span class="string">&#x27;buy_mount&#x27;</span>].groupby(buy_by_girl[<span class="string">&#x27;category_1&#x27;</span>]).count().reset_index()</span><br><span class="line">fig,(ax1,ax2)=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">ax1.pie(buycount_by_boy[<span class="string">&#x27;buy_mount&#x27;</span>],labels=buycount_by_boy[<span class="string">&#x27;category_1&#x27;</span>],autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>)</span><br><span class="line">ax2.pie(buycount_by_girl[<span class="string">&#x27;buy_mount&#x27;</span>],labels=buycount_by_girl[<span class="string">&#x27;category_1&#x27;</span>],autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://z1.ax1x.com/2023/09/14/pPWiagf.png" alt="pPWiagf.png"></p>
<p><font color=#FFA500 fontsize = 14>男女对大类的需求差距不大转而分析二级分类</font></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">buycount_by_boy2 = buy_by_boy[<span class="string">&#x27;buy_mount&#x27;</span>].groupby([buy_by_boy[<span class="string">&#x27;category_1&#x27;</span>],buy_by_boy[<span class="string">&#x27;category_2&#x27;</span>]]).count().reset_index().sort_values(<span class="string">&#x27;buy_mount&#x27;</span>,ascending=<span class="literal">False</span>)[:<span class="number">10</span>]</span><br><span class="line">buycount_by_girl2 = buy_by_girl[<span class="string">&#x27;buy_mount&#x27;</span>].groupby([buy_by_girl[<span class="string">&#x27;category_1&#x27;</span>],buy_by_girl[<span class="string">&#x27;category_2&#x27;</span>]]).count().reset_index().sort_values(<span class="string">&#x27;buy_mount&#x27;</span>,ascending=<span class="literal">False</span>)[:<span class="number">10</span>]</span><br><span class="line">fig,(ax1,ax2)=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">plt.title(<span class="string">&#x27;左边为boy，右边为girl&#x27;</span>)</span><br><span class="line">label_boy = buycount_by_boy2[<span class="string">&#x27;category_2&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)+<span class="string">&#x27;\n---\n&#x27;</span>+buycount_by_boy2[<span class="string">&#x27;category_1&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">label_girl = buycount_by_girl2[<span class="string">&#x27;category_2&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)+<span class="string">&#x27;\n---\n&#x27;</span>+buycount_by_girl2[<span class="string">&#x27;category_1&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">ax1.pie(buycount_by_boy2[<span class="string">&#x27;buy_mount&#x27;</span>],labels=label_boy,autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>)</span><br><span class="line">ax2.pie(buycount_by_girl2[<span class="string">&#x27;buy_mount&#x27;</span>],labels=label_girl,autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://z1.ax1x.com/2023/09/14/pPWidv8.png" alt="pPWidv8.png"></p>
<p><font color=#FFA500>由图可知，男孩和女孩需求量第二大的商品类别有差异，20013207为男孩需求较大的类别，20018831为女孩需求较大的类别，可分析两个类别各自的属性，结合性别并针对其特性进行营销</font></p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><ul>
<li>此店铺应注重新用户获取，增加销量</li>
<li>注重销售过程中的服务质量，维护店铺信誉</li>
<li>减少低销量产品的库存，可做捆绑促销活动，达到清库的目的</li>
<li>减少低销量产品的采购量，防止库存积压，增加成本</li>
<li>增加7-10月份爆款产品的推广力度</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Otter</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/09/08/%E5%9F%BA%E4%BA%8E%E5%A4%A9%E6%B1%A0%E6%AF%8D%E5%A9%B4%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">http://example.com/2023/09/08/基于天池母婴数据分析/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Otter's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></div><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2023/09/08/pP6mNP1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/09/08/python%E5%AD%A6%E4%B9%A0%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/" title="python学习中遇到的小问题"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">python学习中遇到的小问题</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/09/08/python%E5%AD%A6%E4%B9%A0%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/" title="python学习中遇到的小问题"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-08</div><div class="title">python学习中遇到的小问题</div></div></a></div><div><a href="/2023/09/10/matplotlib%E4%BD%BF%E7%94%A8%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/" title="matplotlib使用中的问题汇总"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-10</div><div class="title">matplotlib使用中的问题汇总</div></div></a></div><div><a href="/2023/09/12/%E7%B2%BE%E7%9B%8A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" title="精益数据分析笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-12</div><div class="title">精益数据分析笔记</div></div></a></div><div><a href="/2023/09/14/%E7%B2%BE%E7%9B%8A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%88%E4%BA%8C%EF%BC%89/" title="精益数据分析（二）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-14</div><div class="title">精益数据分析（二）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s1.ax1x.com/2023/09/08/pP6mNP1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Otter</div><div class="author-info__description">你我终会沦为尘埃漂流<br>等待花季烟雨稠</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Enhydra-lutris-tl"><i class="fab fa-github"></i><span>Github</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%B4%E6%98%8E"><span class="toc-text">数据说明</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%83%85%E5%86%B5"><span class="toc-text">数据分析情况</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E6%89%80%E5%A4%84%E8%A1%8C%E4%B8%9A"><span class="toc-text">一、 所处行业</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90"><span class="toc-text">二、 数据来源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81-%E5%AD%97%E6%AE%B5%E8%A7%A3%E6%9E%90"><span class="toc-text">三、 字段解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81-%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-text">四、 分析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="toc-text">1. 数据获取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97"><span class="toc-text">2. 数据清洗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%90%84%E7%BB%B4%E5%BA%A6%E4%BA%A4%E6%98%93%E9%87%8F%E6%AF%94%E8%BE%83"><span class="toc-text">3. 各维度交易量比较</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B4%E4%BA%A4%E6%98%93%E9%87%8F"><span class="toc-text">年交易量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%84%E5%AD%A3%E5%BA%A6%E9%94%80%E5%94%AE%E6%83%85%E5%86%B5"><span class="toc-text">各季度销售情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%88%E9%94%80%E5%94%AE%E6%83%85%E5%86%B5"><span class="toc-text">月销售情况</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%AD%E4%B9%B0%E6%97%A5%E6%9C%9F%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90"><span class="toc-text">购买日期行为分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E8%B4%B9%E6%AC%A1%E6%95%B0%E5%8F%8A%E5%9B%9E%E8%B4%AD%E7%8E%87%E5%88%86%E6%9E%90"><span class="toc-text">消费次数及回购率分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%95%86%E5%93%81%E7%B1%BB%E5%88%AB%E7%9A%84%E9%94%80%E9%87%8F%E5%8D%A0%E6%AF%94%E5%88%86%E6%9E%90"><span class="toc-text">商品类别的销量占比分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%88%86%E7%B1%BB%E5%8D%A0%E6%AF%94%E6%83%85%E5%86%B5"><span class="toc-text">一级分类占比情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%88%86%E7%B1%BB%E4%B8%8B%E6%AC%A1%E7%BA%A7%E5%88%86%E7%B1%BB%E6%95%B0%E9%87%8F%E6%83%85%E5%86%B5"><span class="toc-text">一级分类下次级分类数量情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%88%86%E7%B1%BB%E7%9A%84%E9%94%80%E9%87%8F%E5%8D%A0%E6%AF%94%E6%83%85%E5%86%B5"><span class="toc-text">二级分类的销量占比情况</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B4%E9%BE%84%E5%8F%8A%E6%80%A7%E5%88%AB%E5%88%86%E6%9E%90"><span class="toc-text">年龄及性别分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B4%E9%BE%84%E5%88%86%E6%9E%90"><span class="toc-text">年龄分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E5%88%AB%E5%AF%B9%E9%94%80%E9%87%8F%E5%8D%A0%E6%AF%94%E6%83%85%E5%86%B5%E5%88%86%E6%9E%90"><span class="toc-text">性别对销量占比情况分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E6%80%A7%E5%88%AB%E5%A9%B4%E5%84%BF%E7%9A%84%E6%B6%88%E8%B4%B9%E4%BA%A7%E5%93%81%E7%B1%BB%E5%88%AB%E5%88%86%E6%9E%90"><span class="toc-text">不同性别婴儿的消费产品类别分析</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-text">结论</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/19/%E7%9B%B8%E5%86%8C/" title="相册">相册</a><time datetime="2023-09-19T07:06:00.000Z" title="发表于 2023-09-19 15:06:00">2023-09-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/14/%E7%B2%BE%E7%9B%8A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%88%E4%BA%8C%EF%BC%89/" title="精益数据分析（二）">精益数据分析（二）</a><time datetime="2023-09-14T13:52:32.000Z" title="发表于 2023-09-14 21:52:32">2023-09-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/12/%E7%B2%BE%E7%9B%8A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" title="精益数据分析笔记">精益数据分析笔记</a><time datetime="2023-09-12T15:06:32.000Z" title="发表于 2023-09-12 23:06:32">2023-09-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/10/matplotlib%E4%BD%BF%E7%94%A8%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/" title="matplotlib使用中的问题汇总">matplotlib使用中的问题汇总</a><time datetime="2023-09-10T06:02:41.000Z" title="发表于 2023-09-10 14:02:41">2023-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/08/python%E5%AD%A6%E4%B9%A0%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/" title="python学习中遇到的小问题">python学习中遇到的小问题</a><time datetime="2023-09-08T13:34:59.000Z" title="发表于 2023-09-08 21:34:59">2023-09-08</time></div></div></div></div></div></div></main><footer id="footer" style="background: rgba(255,255,255,0)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Otter</div><div class="footer_custom_text"><div id="runtime"></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"></div><script src="/js/jquery.js"></script><script src="/js/footer.js"></script><script src="/js/time.js"></script><script id="canvas_nest" defer="defer" color="223,243,243" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>